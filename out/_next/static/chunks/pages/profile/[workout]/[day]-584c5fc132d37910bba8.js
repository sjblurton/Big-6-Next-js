(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[560],{691:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return T}});var r=n(5893),o=n(7294),l=n(1163),i=n(4770),a=n(3478),u=n(4956),c=n(8642),s=n(6634),d=n(809),p=n.n(d),f=n(2447),v=n(1565),h=v.ZP.div.withConfig({displayName:"styles__Wrapper",componentId:"sc-o7kj2o-0"})(["position:fixed;inset:0;background:#000000b3;z-index:120;display:flex;justify-content:center;align-items:center;"]),x=v.ZP.div.withConfig({displayName:"styles__Modal",componentId:"sc-o7kj2o-1"})(["position:fixed;display:flex;flex-direction:column;justify-content:space-between;padding:8px;z-index:121;width:clamp(260px,95%,320px);height:clamp(240px,30%,300px);background-color:",";color:black;border-radius:8px;box-shadow:1px 1px 1px rgba(0,0,0,0.1);"," & ul{list-style:none;margin-block:6px;& li{margin-block:4px;}}"],(function(e){return e.theme.color.accent}),(function(e){return e.theme.text.body})),g=(v.ZP.h3.withConfig({displayName:"styles__Title",componentId:"sc-o7kj2o-2"})(["",""],(function(e){return e.theme.text.h3})),v.ZP.div.withConfig({displayName:"styles__ButtonContainer",componentId:"sc-o7kj2o-3"})(["display:flex;justify-content:space-around;"])),w=v.ZP.button.withConfig({displayName:"styles__Button",componentId:"sc-o7kj2o-4"})([""," padding:8px 16px;background:",";color:",";border-radius:8px;cursor:pointer;&:last-of-type{background:",";}"],(function(e){return e.theme.text.button}),(function(e){return e.theme.color.orange}),(function(e){return e.theme.color.white}),(function(e){return e.theme.color.error})),y=n(7710),_=n(4902),E=n(3842),O=function(e){var t,n=e.data,o=e.setOpenModal,a=(0,i.CU)(),u=a.setLoading,c=a.loading,s=(0,i.aC)().user,d=(0,l.useRouter)(),v=(0,_.Z)(new Date((null===n||void 0===n||null===(t=n.date)||void 0===t?void 0:t.toDate())||new Date),"do MMMM, Y")||"",O=function(){var e=(0,f.Z)(p().mark((function e(t){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),u(!0),e.next=4,E.C.removeDoc(s.uid,n.docId);case 4:o(!1),d.push("/profile"),u(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,r.jsx)(h,{onClick:function(){return o(!1)},name:"wrapper",children:(0,r.jsxs)(x,{onClick:function(e){e.stopPropagation()},children:[(0,r.jsx)(y.Dx,{children:"Delete"}),(0,r.jsx)("p",{children:"Are you sure you want to delete the following?"}),(0,r.jsxs)("ul",{children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Workout:"})," ",n.workout||""]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Level:"})," ",n.level||""]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Date:"})," ",v||""]})]}),(0,r.jsxs)(g,{children:[(0,r.jsx)(w,{disabled:c,onClick:function(){return o(!1)},type:"button",children:"cancel"}),(0,r.jsx)(w,{disabled:c,onClick:O,type:"button",children:"delete"})]})]})})},k=n(5226),T=(0,i.kG)((function(){var e,t=(0,o.useState)(!1),n=t[0],d=t[1],p=(0,i.CU)(),f=p.collections,v=p.error,h=p.loading,x=(0,l.useRouter)(),g=x.query.day,w=c.lA.filter((function(e){return e.key===x.query.workout}))[0].value,_={data:{},progressions:{},filter:g,date:new Date(u.EK.now().toDate()),ago:""},E=(0,o.useReducer)(k.HC,_),T=E[0],j=E[1],m=T.data,D=T.progressions,b=T.ago,C=T.goal,A=T.totalReps;return(0,o.useEffect)((function(){f.length>0&&!h&&j({type:k.aO.DAY_DATA_TO_STATE,payload:{collections:f}})}),[f]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.pQ,{title:"".concat(m.workout,", Level: ").concat(m.level,", for ").concat(null===(e=m.reps)||void 0===e?void 0:e.reduce((function(e,t){return e+t}),0)," reps")}),(0,r.jsx)(s.h4,{title:m.workout||"loading",isBackIcon:!0,svg:w}),n&&(0,r.jsx)(O,{data:m,setOpenModal:d}),!h&&null!==f&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.Gh,{progressions:D,ago:b,reps:A,goal:C,setOpenModal:d}),(0,r.jsx)(s.vz,{reps:m.reps,level:m.level}),(0,r.jsx)(s.HW,{data:m})]}),v&&(0,r.jsx)(y.KI,{children:v}),(0,r.jsx)(a.Jl,{})]})}))},5226:function(e,t,n){"use strict";n.d(t,{aO:function(){return c},e7:function(){return s},iJ:function(){return d},HC:function(){return p}});var r=n(6265),o=n(4295),l=n(8642),i=n(9119);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c={INCREMENT_WORKOUT:"increment-workout",DECREMENT_WORKOUT:"decrement-workout",INCREMENT_LEVEL:"increment-level",DECREMENT_LEVEL:"decrement-level",UPDATE_STATE_FROM_ROUTE:"update-state-from-route",WORKOUT_DATA_TO_STATE:"workout-data-to-state",DAY_DATA_TO_STATE:"day-data-to-state"},s=function(e,t){var n=e.level,r=e.workout,i=l.Ds.indexOf(r);switch(t.type){case c.INCREMENT_LEVEL:return 9!==e.level?n++:n=0,u(u({},e),{},{data:o.q[r][n],level:n});case c.DECREMENT_LEVEL:return n=e.level,r=e.workout,0!==e.level?n--:n=9,u(u({},e),{},{data:o.q[r][n],level:n});case c.DECREMENT_WORKOUT:return n=e.level,r=e.workout,0===i?i=l.Ds.length-1:i--,r=l.Ds[i],u(u({},e),{},{data:o.q[r][n],level:n,workout:r});case c.INCREMENT_WORKOUT:return n=e.level,r=e.workout,(i=l.Ds.indexOf(r))===l.Ds.length-1?i=0:i++,r=l.Ds[i],u(u({},e),{},{data:o.q[r][n],level:n,workout:r});case c.UPDATE_STATE_FROM_ROUTE:return r=t.payload.query.workout,n=t.payload.query.level,u(u({},e),{},{data:o.q[r][n],level:n,workout:r});default:return e}},d=function(e,t){var n;switch(t.type){case c.WORKOUT_DATA_TO_STATE:if(!t.payload.collections)return u({},e);var r=null===(n=t.payload.collections)||void 0===n?void 0:n.filter((function(t){return t.workout===e.filter})),o=r.filter((function(e,t,n){return e.level===n[0].level}));return u(u({},e),{},{data:r,level:r[0].level,lineChart:o,labels:o.map((function(e){return e.date.toDate()})).slice(0,5),reps:o.map((function(e){return e.reps})).slice(0,5),loading:!1});default:return e}},p=function(e,t){var n,r,l,a;switch(t.type){case c.DAY_DATA_TO_STATE:var s=t.payload.collections.filter((function(t){return t.docId===e.filter})),d=o.q[s[0].workout][s[0].level-1],p=d.progressions[d.progressions.length-1].reduce((function(e,t){return e*t}),1),f=new Date(null===(n=s[0])||void 0===n||null===(r=n.date)||void 0===r?void 0:r.toDate()),v=s[0].reps.reduce((function(e,t){return e+t}),0);return u(u({},e),{},{data:s[0],totalReps:v,progressions:o.q[null===(l=s[0])||void 0===l?void 0:l.workout][(null===(a=s[0])||void 0===a?void 0:a.level)-1],goal:p,ago:(0,i.Z)(f,new Date,{addSuffix:!0})});default:return e}}},7270:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile/[workout]/[day]",function(){return n(691)}])}},function(e){e.O(0,[570,495,733,811,478,642,634,774,888,179],(function(){return t=7270,e(e.s=t);var t}));var t=e.O();_N_E=t}]);